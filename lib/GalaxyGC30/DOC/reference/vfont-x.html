<HTML>
  <HEAD>
<!--[[HEADING]]-->
<title>vfont prefix</title><!--[[/HEADING]]-->
  </HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<A NAME="Top"><IMG SRC="../graphics/trans.gif" WIDTH=2 HEIGHT=2></A><BR>

<TABLE WIDTH=100% BORDER="0" CELLPADDING="0" CELLSPACING="0">

	<TR BGCOLOR="#996666">

		<TD>
		<CENTER>
		<A HREF="../index.html">
		<IMG SRC="../graphics/logo.gif" BORDER=0></A>
		</CENTER>
		</TD>

	        <TD VALIGN=TOP>
	        <BR><H1>
<!--[[TITLE]]-->
vfont prefix<!--[[/TITLE]]-->
	        </H1><BR>
		</TD>
      
	</TR>

</TABLE>

<HR>

<BR>

<!--[[PREAMBLE]]-->
<TABLE>
<TR>
<TD><A HREF="vfont-x.html#section_DataType">Types</A> [8]</TD>
<TD><A HREF="vfont-x.html#section_Function">Functions</A> [91]</TD>
<TD></TD>
<TD><A HREF="vfont-x.html#section_Constant">Constants</A> [2]</TD>
<TD><A HREF="vfont-x.html#section_Macro">Macros</A> [3]</TD>
</TR>
</TABLE>
<!--[[/PREAMBLE]]-->

<!--[[CONTENT]]-->

<P>
<A NAME="section_DataType"><HR>
<CENTER><H2>Types</H2></CENTER></A><P>
<A NAME="vfont"><HR><H4>vfont</H4></A>
<PRE>
        typedef ... <B>vfont</B>;
</PRE>

<DL><DD>
Contains the information needed to represent a single font.
Fonts are referenced by a pointer to this type. Fonts can
be obtained from a particular typeface with
<CODE><A HREF="vfont-x.html#vfontScale"><CODE>vfontScale</CODE></A></CODE> or fonts can be matched based on
desirable attributes with <CODE><A HREF="vfont-x.html#vfontFind"><CODE>vfontFind</CODE></A></CODE>. You can
also use the Galaxy Standard Font Chooser to request a font
selection from the user. A font contains a typeface
reference and a transformation matrix. Typical font names
are ``Times Roman 10'' and ``Helvetica Bold Oblique 18.''
Other Galaxy modules use this data type to refer to fonts.
</DD></DL>
<P>
<A NAME="vfontClass"><HR><H4>vfontClass</H4></A>
<PRE>
        typedef ... <B>vfontClass</B>;
</PRE>

<DL><DD>
Contains method and variable bindings for objects of type
<CODE>vfont</CODE>. Classes declared with this type
contain the same set of methods and variables as the
default font class, but the behavior of methods and the
contents of variables may vary. This class type is derived
from <CODE><A HREF="vinstance-x.html#vinstanceClass"><CODE>vinstanceClass</CODE></A></CODE>.
</DD></DL>
<P>
<A NAME="vfontFace"><HR><H4>vfontFace</H4></A>
<PRE>
        typedef ... <B>vfontFace</B>;
</PRE>

<DL><DD>
Contains the information needed to represent a single
typeface. Typefaces are referenced by a pointer to this
type. Typefaces can be obtained from the global typeface
list with <CODE><A HREF="vfont-x.html#vfontGetFaceAt"><CODE>vfontGetFaceAt</CODE></A></CODE> or from a particular
font with <CODE><A HREF="vfont-x.html#vfontGetFace"><CODE>vfontGetFace</CODE></A></CODE>. A typeface contains a
family reference, a name, and one or more fonts. Typical
typeface names are ``Times Roman'' and ``Helvetica Bold
Oblique.''
</DD></DL>
<P>
<A NAME="vfontFaceClass"><HR><H4>vfontFaceClass</H4></A>
<PRE>
        typedef ... <B>vfontFaceClass</B>;
</PRE>

<DL><DD>
Contains method and variable bindings for objects of type
<CODE>vfontFace</CODE>. Classes declared with this type
contain the same set of methods and variables as the
default font face class, but the behavior of methods and the
contents of variables may vary. This class type is derived
from <CODE><A HREF="vinstance-x.html#vinstanceClass"><CODE>vinstanceClass</CODE></A></CODE>.
</DD></DL>
<P>
<A NAME="vfontFamily"><HR><H4>vfontFamily</H4></A>
<PRE>
        typedef ... <B>vfontFamily</B>;
</PRE>

<DL><DD>
Contains the information needed to represent a single
typeface family. Typeface families are referenced by a
pointer to this type. Typeface families can be obtained
from the global family list with
<CODE><A HREF="vfont-x.html#vfontGetFamilyAt"><CODE>vfontGetFamilyAt</CODE></A></CODE> or from a particular typeface
with <CODE><A HREF="vfont-x.html#vfontGetFaceFamily"><CODE>vfontGetFaceFamily</CODE></A></CODE>. A typeface family
contains a name, foundry, encoding, and one or more
typefaces. Typical family names are ``Times'' and
``Helvetica.''
</DD></DL>
<P>
<A NAME="vfontFamilyClass"><HR><H4>vfontFamilyClass</H4></A>
<PRE>
        typedef ... <B>vfontFamilyClass</B>;
</PRE>

<DL><DD>
Contains method and variable bindings for objects of type
<CODE>vfontFamily</CODE>. Classes declared with this type
contain the same set of methods and variables as the
default font family class, but the behavior of methods and the
contents of variables may vary. This class type is derived
from <CODE><A HREF="vinstance-x.html#vinstanceClass"><CODE>vinstanceClass</CODE></A></CODE>.
</DD></DL>
<P>
<A NAME="vfontMetricsFuncs"><HR><H4>vfontMetricsFuncs</H4></A>
<PRE>
        typedef ... <B>vfontMetricsFuncs</B>;
</PRE>

<DL><DD>
Denotes a set of functions that determine the character
metrics of a particular font. <SAMP>flags</SAMP> specifies
which functions are present in the structure; it should be
set to zero for this release. Other fields contain
functions that implement various Font class fixed-point
entry points. For example, <SAMP>Ascent</SAMP> implements
the function <CODE><A HREF="vfont-x.html#vfontFixAscent"><CODE>vfontFixAscent</CODE></A></CODE>.
</DD></DL>
<P>
<A NAME="vfontStartupProc"><HR><H4>vfontStartupProc</H4></A>
<PRE>
        typedef ... <B>vfontStartupProc</B>;
</PRE>

<DL><DD>
Denotes a function that can be called by the Font class
to obtain font resources when no font resources have yet
been created. Refer to <CODE><A HREF="vfont-x.html#vfontRegisterStartup"><CODE>vfontRegisterStartup</CODE></A></CODE>
for more information.
</DD></DL>
<P>
<A NAME="section_Function"><HR>
<CENTER><H2>Functions</H2></CENTER></A><P>
<A NAME="vfontAscent"><HR><H4>vfontAscent</H4></A>
<PRE>
        int <B>vfontAscent</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the ascent of the font<SAMP>font</SAMP> (as a
number of type <SAMP>int</SAMP>). The<B><I>ascent</I></B>
is the distance that a typical character of a font rises
above its base line; it is used for line spacing.
The<B><I>base line</I></B> is an imaginary horizontal line
on which all characters rest. Ascent may be meaningless for
non-Roman fonts. Figure illustrates ascent.
  <P>
<BLOCKQUOTE>
Figure: Ascent, descent, and height
  <P>
<IMG SRC="Font.Ascent_descent.gif">
</BLOCKQUOTE>
</DD></DL>
<P>
<A NAME="vfontBounds"><HR><H4>vfontBounds</H4></A>
<PRE>
        void <B>vfontBounds</B>(
                vfont * font,
                vrect * bounds);
</PRE>

<DL><DD>
Returns the maximum character bounding box of the font
<SAMP>font</SAMP>in <SAMP>bounds</SAMP> (as a number of
type <SAMP>int</SAMP>). The maximum character bounding box
is the smallest rectangle that encloses all the
superimposed characters of the font. The rectangle
coordinates are relative to the character origin (see
Figure).
  <P>
<BLOCKQUOTE>
Figure: Font bounding box
  <P>
<IMG SRC="Font.Font_bounding_box.gif">
</BLOCKQUOTE>
</DD></DL>
<P>
<A NAME="vfontCreate"><HR><H4>vfontCreate</H4></A>
<PRE>
        vfont * <B>vfontCreate</B>(
                vfontFace * face,
                const vmatrix * mtx,
                int id);
</PRE>

<DL><DD>
Creates a font belonging to the typeface <SAMP>face</SAMP>
with transformation matrix <SAMP>mtx</SAMP> and returns a
pointer to the font object. If <SAMP>id</SAMP> is not
<SAMP>-1</SAMP>, the font is made available on the device
designated by <SAMP>id</SAMP>. Fonts with the same matrix
and typeface are shared among devices. The matrix should
transform a coordinate from character space to user space.
Character space is a coordinate system with its origin at
the character's origin and one unit equal to the font
ascent.
</DD></DL>
<P>
<A NAME="vfontCreateFace"><HR><H4>vfontCreateFace</H4></A>
<PRE>
        vfontFace * <B>vfontCreateFace</B>(
                vfontFamily * family,
                const vname * name,
                int id);
</PRE>

<DL><DD>
Creates a typeface belonging to the typeface family
<SAMP>family</SAMP> with name <SAMP>name</SAMP> and returns
a pointer to the typeface object. If <SAMP>id</SAMP> is not
<SAMP>-1</SAMP>, the typeface is made available on the
device designated by <SAMP>id</SAMP>. Typefaces with the
same name and family are shared among devices.
<SAMP>name</SAMP> <I>must</I> be a global name obtained
from the Name class.
</DD></DL>
<P>
<A NAME="vfontCreateFamily"><HR><H4>vfontCreateFamily</H4></A>
<PRE>
        vfontFamily * <B>vfontCreateFamily</B>(
                const vname * name,
                const vname * foundry,
                const vname * encoding,
                int mono,
                int id);
</PRE>

<DL><DD>
Creates a typeface family with name <SAMP>name</SAMP>, on
behalf of the device whose identifier is <SAMP>id</SAMP>,
and returns a pointer to the new family object.
<SAMP>foundry</SAMP> specifies the company that created the
font, and <SAMP>encoding</SAMP> specifies the character set
encoding of characters in the font. If <SAMP>mono</SAMP> is
<SAMP>TRUE</SAMP>, the width of all characters of a given
font in the family is the same. If <SAMP>id</SAMP> is
<SAMP>-1</SAMP>, the family is created for no devices.
<SAMP>name</SAMP>, <SAMP>foundry</SAMP>, and
<SAMP>encoding</SAMP> <I>must</I> all be global names
obtained from the Name class. Families are shared among
different devices if their name, character set, and foundry
are the same.
</DD></DL>
<P>
<A NAME="vfontDescent"><HR><H4>vfontDescent</H4></A>
<PRE>
        int <B>vfontDescent</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the descent of the font <SAMP>font</SAMP> (as a
number of type <SAMP>int</SAMP>). The<B><I>descent</I></B>
is the distance that a typical character of a font with a
descender descends below the base line; it is used for line
spacing. The<B><I>base line</I></B> is an imaginary
horizontal line on which all characters rest. Descent may
be meaningless for non-Roman fonts. Descent is positive for
Roman fonts with descenders. Figure illustrates descent.
</DD></DL>
<P>
<A NAME="vfontDump"><HR><H4>vfontDump</H4></A>
<PRE>
        void <B>vfontDump</B>(
                vfont * font,
                FILE * stream);
</PRE>

<DL><DD>
Prints information about the font <SAMP>font </SAMP>on the
file stream <SAMP>stream</SAMP>. This information is for
debugging purposes only. This function is available only
when debugging is enabled.
</DD></DL>
<P>
<A NAME="vfontDumpFace"><HR><H4>vfontDumpFace</H4></A>
<PRE>
        void <B>vfontDumpFace</B>(
                vfontFace * face,
                FILE * stream);
</PRE>

<DL><DD>
Prints information about the typeface <SAMP>face </SAMP>on
the file stream <SAMP>stream</SAMP>. This information is
for debugging purposes only. This function is available
only when debugging is enabled.
</DD></DL>
<P>
<A NAME="vfontDumpFamily"><HR><H4>vfontDumpFamily</H4></A>
<PRE>
        void <B>vfontDumpFamily</B>(
                vfontFamily * family,
                FILE * stream);
</PRE>

<DL><DD>
Prints information about the font family <SAMP>family
</SAMP>on the file stream <SAMP>stream</SAMP>. This
information is for debugging purposes only. This function
is available only when debugging is enabled.
</DD></DL>
<P>
<A NAME="vfontFGetSize"><HR><H4>vfontFGetSize</H4></A>
<PRE>
        double <B>vfontFGetSize</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the size of the font <SAMP>font</SAMP> (as a
<SAMP>double</SAMP>). Text is drawn at the returned size
(in user space units) by the Drawing Manager when
<SAMP>font</SAMP> is the current font. User space units are
points by default, so this value can be treated as a point
size. A font's size is the <SAMP>d</SAMP> component of its
transformation matrix; if the font is rotated or inverted,
unexpected results may be returned. Refer to the ``Plane
Geometry Manager'' chapter of the <I>Galaxy Application
Environment Programmer's Guide</I> for more information on
transformation matrices.
</DD></DL>
<P>
<A NAME="vfontFScale"><HR><H4>vfontFScale</H4></A>
<PRE>
        vfont * <B>vfontFScale</B>(
                vfontFace * face,
                double size);
</PRE>

<DL><DD>
Returns a font of size <SAMP>size</SAMP> (given as a
<SAMP>double</SAMP>) for the typeface <SAMP>face</SAMP>.
This function creates the font if it does not exist
already. You can use this function to transform an existing
font <SAMP>font</SAMP> to a new size <SAMP>size</SAMP> with
<SAMP>vfontFScale(<A HREF="vfont-x.html#vfontGetFace"><CODE>vfontGetFace</CODE></A>(font), size)</SAMP>.
</DD></DL>
<P>
<A NAME="vfontFaceIsAvailOn"><HR><H4>vfontFaceIsAvailOn</H4></A>
<PRE>
        int <B>vfontFaceIsAvailOn</B>(
                vfontFace * face,
                int id);
</PRE>

<DL><DD>
Returns <SAMP>TRUE</SAMP> if the typeface <SAMP>face
</SAMP>is available on the device identified by
<SAMP>id</SAMP>, <SAMP>FALSE</SAMP> if it is not.
Availability is determined by which devices have called
<CODE><A HREF="vfont-x.html#vfontCreateFace"><CODE>vfontCreateFace</CODE></A></CODE> for the typeface.
</DD></DL>
<P>
<A NAME="vfontFamilyIsAvailOn"><HR><H4>vfontFamilyIsAvailOn</H4></A>
<PRE>
        int <B>vfontFamilyIsAvailOn</B>(
                vfontFamily * family,
                int id);
</PRE>

<DL><DD>
Returns <SAMP>TRUE</SAMP> if the typeface family
<SAMP>family </SAMP>is available on the device identified
by <SAMP>id</SAMP>, <SAMP>FALSE</SAMP> if it is not.
Availability is determined by which devices have called
<CODE><A HREF="vfont-x.html#vfontCreateFamily"><CODE>vfontCreateFamily</CODE></A></CODE> for the family.
</DD></DL>
<P>
<A NAME="vfontFamilyIsMono"><HR><H4>vfontFamilyIsMono</H4></A>
<PRE>
        int <B>vfontFamilyIsMono</B>(
                vfontFamily * family);
</PRE>

<DL><DD>
Returns <SAMP>TRUE</SAMP> if the typefaces of the family
<SAMP>family </SAMP>have uniform character widths,
<SAMP>FALSE</SAMP> if they are proportionally spaced.
</DD></DL>
<P>
<A NAME="vfontFind"><HR><H4>vfontFind</H4></A>
<PRE>
        vfont * <B>vfontFind</B>(
                const vchar * key);
</PRE>

<DL><DD>
Returns a font reference for the font that most closely
matches the set of characteristics given in the string
<SAMP>key</SAMP>. This string is composed of a variable
number of <I>key:value</I> pairs, with each pair separated
by a dash. The <I>key</I> component of any given pair can
be omitted, in which case the remaining <I>value</I>
information (keyword) matches any available attribute.
Typical attributes are family name, typeface name, point
size, and character set encoding. Point sizes are specified
by an attribute that is a decimal number. An attribute
prefixed by a tilde (~) indicates that any attribute value
<I>other than value</I> is considered a match. Attributes
are listed in order of priority.
<CODE><A HREF="vfont-x.html#vfontFindScribed"><CODE>vfontFindScribed</CODE></A></CODE> uses a key string contained
in a String class scribe.
  <P>
Matching is based on the availability of fonts on the
particular display or device, but <CODE>vfontFind</CODE>
always returns a font unless no fonts are available, in
which case it generates
<CODE><A HREF="vex-x.html#vexModuleStartupException"><CODE>vexModuleStartupException</CODE></A></CODE>. String comparison
is case-insensitive, and size requests use the closest size
if an exact match cannot be found. <CODE>vfontFind</CODE>
should be used only when keys are obtained from previous
calls to the Font class or when the client program knows
exactly what kind of font it wants. If font specification
is better left to the user, use the Standard Font Chooser
or construct a user-interface object using the various
enumeration facilities. Users should not be required to
type font specification strings.
  <P>
The following attribute keys are recognized by the Font
class:
  <P>
<uL>
<li><SAMP>family: family-name</SAMP> 
<li><SAMP>face: typeface-name</SAMP> 
<li><SAMP>size: point-size</SAMP> 
<li><SAMP>device: device-identifier</SAMP> 
<li><SAMP>foundry: foundry-name</SAMP> 
<li><SAMP>encoding: encoding-name</SAMP> 
</uL>
</DD></DL>
<P>
<A NAME="vfontFindRelative"><HR><H4>vfontFindRelative</H4></A>
<PRE>
        vfont * <B>vfontFindRelative</B>(
                vfont * font,
                const vchar * key);
</PRE>

<DL><DD>
Locates a font based on a specification relative to an
existing font. The string key is interpreted exactly as in
<CODE>vfontFind</CODE>, except that defaults for
unspecified attributes are taken from <SAMP>font</SAMP>
instead of the default key. This function is useful for
specifying a group of fonts based on a single master font.
</DD></DL>
<P>
<A NAME="vfontFindRelativeScribed"><HR><H4>vfontFindRelativeScribed</H4></A>
<PRE>
        vfont * <B>vfontFindRelativeScribed</B>(
                vfont * font,
                vscribe * key);
</PRE>

<DL><DD>
Locates a font based on a specification relative to an
existing font (using a key string contained in a String
Manager scribe). The string key is interpreted exactly as
in <CODE>vfontFind</CODE>, except that defaults for
unspecified attributes are taken from <SAMP>font</SAMP>
instead of the default key. This function is useful for
specifying a group of fonts based on a single master font.
</DD></DL>
<P>
<A NAME="vfontFindScribed"><HR><H4>vfontFindScribed</H4></A>
<PRE>
        vfont * <B>vfontFindScribed</B>(
                vscribe * key);
</PRE>

<DL><DD>
Returns a font pointer for the font that most closely
matches the set of characteristics given in the string
written by the scribe, <SAMP>key</SAMP>. This string is
composed of a variable number of <I>key:value</I> pairs,
with each pair separated by a dash. The <I>key</I>
component of any given pair can be omitted, in which case
the remaining <I>value</I> information (keyword) matches
any available attribute. Typical attributes are family
name, typeface name, point size, and character set
encoding. Point sizes are specified by an attribute that is
a decimal number. An attribute prefixed by a tilde (~)
indicates that any attribute value <I>other than value</I>
is considered a match. Attributes are listed in order of
priority. <CODE>vfontFindScribed</CODE> uses a key string
that is not given as a scribe.
  <P>
Matching is based on the availability of fonts on the
particular display or device, but <CODE>vfontFind</CODE>
always returns a font unless no fonts are available, in
which case it generates
<CODE><A HREF="vex-x.html#vexModuleStartupException"><CODE>vexModuleStartupException</CODE></A></CODE>. String comparison
is case-insensitive, and size requests use the closest size
if an exact match cannot be found. <CODE>vfontFind</CODE>
should be used only when keys are obtained from previous
calls to the Font class or when the client program knows
exactly what kind of font it wants. If font specification
is better left to the user, use the Standard Font Chooser
or construct a user-interface object using the various
enumeration facilities. Users should not be required to
type font specification strings.
  <P>
The following attribute keys are recognized by the Font
class:
  <P>

<uL>
<li><SAMP>family</SAMP>: family-name 
<li><SAMP>face</SAMP>: typeface-name 
<li><SAMP>size</SAMP>: point-size 
<li><SAMP>device</SAMP>: device-identifier 
<li><SAMP>foundry</SAMP>: foundry-name 
<li><SAMP>encoding</SAMP>: encoding-name 
</uL>

<P>
Example shows how fonts are matched:

<P>
<BLOCKQUOTE>
Sample Code: Using <CODE>vfontFind</CODE>
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>
<PRE>

#define example(s) vfontFindScribed(<A HREF="vchar-x.html#vcharScribeLiteral"><CODE>vcharScribeLiteral</CODE></A>(s))

example("");			 /* the default font        */
example("size:10");		 /* any font in size 10      */
example("italic-10");	 /* any size 10 italic font    */
example("face:bold-times-10"); /* bold more important than times */
example("family:helvetica-face:condensed bold oblique-size:18");
				 /* helvetica condensed bold oblique in size 18*/
</PRE>
</BLOCKQUOTE>
</DD></DL>
<P>
<A NAME="vfontFixAscent"><HR><H4>vfontFixAscent</H4></A>
<PRE>
        vfixed <B>vfontFixAscent</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the ascent of the font <SAMP>font</SAMP> (as a
number of type <SAMP><A HREF="vfixed-x.html#vfixed"><CODE>vfixed</CODE></A></SAMP>).
The<B><I>ascent</I></B> is the distance that a typical
character of a font rises above its base line; it is used
for line spacing. The <B><I>base line</I></B> is an
imaginary horizontal line on which all characters rest.
Ascent may be meaningless for non-Roman fonts. Figure
illustrates ascent.
</DD></DL>
<P>
<A NAME="vfontFixBounds"><HR><H4>vfontFixBounds</H4></A>
<PRE>
        void <B>vfontFixBounds</B>(
                vfont * font,
                vrectFixed * bounds);
</PRE>

<DL><DD>
Returns the maximum character bounding box of the font
<SAMP>font </SAMP>in <SAMP>bounds</SAMP> (as a rect of type
<SAMP><A HREF="vrect-x.html#vrectFixed"><CODE>vrectFixed</CODE></A></SAMP>). The maximum character bounding
box is the smallest rectangle that encloses all the
superimposed characters of the font. The rectangle
coordinates are relative to the character origin (see
Figure).
</DD></DL>
<P>
<A NAME="vfontFixDescent"><HR><H4>vfontFixDescent</H4></A>
<PRE>
        vfixed <B>vfontFixDescent</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the descent of the font <SAMP>font</SAMP> (as a
number of type <SAMP><A HREF="vfixed-x.html#vfixed"><CODE>vfixed</CODE></A></SAMP>).
The<B><I>descent</I></B> is the distance that a typical
character of a font with a descender descends below the
base line; it is used for line spacing. The <B><I>base
line</I></B> is an imaginary horizontal line on which all
characters rest. Descent may be meaningless for non-Roman
fonts. Descent is positive for Roman fonts with descenders.
Figure illustrates descent.
</DD></DL>
<P>
<A NAME="vfontFixHeight"><HR><H4>vfontFixHeight</H4></A>
<PRE>
        vfixed <B>vfontFixHeight</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the height of the font. The
font<B><I>height</I></B> is the sum of the font's ascent
and descent. Height may be meaningless for non-Roman fonts.
For Roman fonts, the height is the minimum amount of line
spacing that successive lines of text in the font require
(see Figure).
</DD></DL>
<P>
<A NAME="vfontFixScribedStringBounds"><HR><H4>vfontFixScribedStringBounds</H4></A>
<PRE>
        void <B>vfontFixScribedStringBounds</B>(
                vfont * font,
                vscribe * scribe,
                vrectFixed * bounds);
</PRE>

<DL><DD>
Measures the bounding box of the scribe <SAMP>scribe</SAMP>
when drawn in the font <SAMP>font </SAMP>and stores the
result in <SAMP>bounds</SAMP>. The bounding box is a
rectangle, relative to the origin of the first character of
the string, that encloses the outlines of all characters in
the string. The x and y coordinates of the bounding
rectangle are often negative. Scribed entry points allow
you to measure strings in other character sets or
representations. See Figure).
  <P>
Refer to the ``String Manager'' chapter of the <I>Galaxy
Application Environment Programmer's Guide</I> for more
information about scribes.
  <P>
<BLOCKQUOTE>
Figure: Bounding box of the string ``fog'' (in this case,
the y coordinate is negative)
  <P>
<IMG SRC="Font.Bounding_box_of_the_st.gif"></BLOCKQUOTE>
</DD></DL>
<P>
<A NAME="vfontFixScribedStringWidth"><HR><H4>vfontFixScribedStringWidth</H4></A>
<PRE>
        void <B>vfontFixScribedStringWidth</B>(
                vfont * font,
                vscribe * scribe,
                vfixed * dx,
                vfixed * dy);
</PRE>

<DL><DD>
Measures the width of the scribe <SAMP>scribe</SAMP> in the
font <SAMP>font </SAMP>and returns the width offsets in
<SAMP>dx</SAMP> and <SAMP>dy</SAMP>. If cumulative
measurements are being performed, it is important that the
fixed-point forms be used. For unrotated Roman fonts, the
<SAMP>dy</SAMP> component is zero (see Figure). Scribed
entry points allow you to measure strings in other
character sets or representations; refer to the ``String
Manager'' chapter of the <I>Galaxy Application Environment
Programmer's Guide</I> for more information about scribes.
  <P>
<BLOCKQUOTE>
Figure: String width
  <P>
<IMG SRC="Font.String_width.gif">
</BLOCKQUOTE>
</DD></DL>
<P>
<A NAME="vfontFixScribedStringWidthX"><HR><H4>vfontFixScribedStringWidthX</H4></A>
<PRE>
        vfixed <B>vfontFixScribedStringWidthX</B>(
                vfont * font,
                vscribe * scribe);
</PRE>

<DL><DD>
Measures the width of the scribe <SAMP>scribe</SAMP> when
drawn in the font <SAMP>font </SAMP>and returns the x
component (see Figure). If cumulative measurements are
being performed, it is important that the fixed-point forms
be used. This function should not be used if you want to
accommodate non-Roman fonts. Scribed entry points allow you
to measure strings in other character sets or
representations.
  <P>
Refer to the ``String Manager'' chapter of the <I>Galaxy
Application Environment Programmer's Guide</I> for more
information about scribes.
</DD></DL>
<P>
<A NAME="vfontFixSizedStringBounds"><HR><H4>vfontFixSizedStringBounds</H4></A>
<PRE>
        void <B>vfontFixSizedStringBounds</B>(
                vfont * font,
                const vchar * s,
                size_t count,
                vrectFixed * bounds);
</PRE>

<DL><DD>
Measures the bounding box of the string <SAMP>s</SAMP> when
drawn in the font <SAMP>font </SAMP>and stores the result
in <SAMP>bounds</SAMP>. The bounding box is a rectangle,
relative to the origin of the first character of the
string, that encloses the outlines of all characters in the
string. The x and y coordinates of the bounding rectangle
are often negative. Exactly <SAMP>count</SAMP> characters
of the string are measured, regardless of null characters.
</DD></DL>
<P>
<A NAME="vfontFixSizedStringWidth"><HR><H4>vfontFixSizedStringWidth</H4></A>
<PRE>
        void <B>vfontFixSizedStringWidth</B>(
                vfont * font,
                const vchar * s,
                size_t count,
                vfixed * dx,
                vfixed * dy);
</PRE>

<DL><DD>
Measures the width of the string <SAMP>s</SAMP> in the font
<SAMP>font </SAMP>and returns the width offsets in
<SAMP>dx</SAMP> and <SAMP>dy</SAMP>. Exactly
<SAMP>count</SAMP> characters of the string are measured,
regardless of null characters. For unrotated Roman fonts,
the <SAMP>dy</SAMP> component is zero (see Figure).
</DD></DL>
<P>
<A NAME="vfontFixSizedStringWidthX"><HR><H4>vfontFixSizedStringWidthX</H4></A>
<PRE>
        vfixed <B>vfontFixSizedStringWidthX</B>(
                vfont * font,
                const vchar * s,
                size_t count);
</PRE>

<DL><DD>
Measures the width of the string <SAMP>s</SAMP> when drawn
in the font <SAMP>font </SAMP>and returns the x component.
Exactly <SAMP>count</SAMP> characters of the string are
measured, regardless of null characters. This function
should not be used if you want to accommodate non-Roman
fonts (see Figure).
</DD></DL>
<P>
<A NAME="vfontFixStringBounds"><HR><H4>vfontFixStringBounds</H4></A>
<PRE>
        void <B>vfontFixStringBounds</B>(
                vfont * font,
                const vchar * s,
                vrectFixed * bounds);
</PRE>

<DL><DD>
Measures the bounding box of the string <SAMP>s</SAMP> when
drawn in the font <SAMP>font </SAMP>and stores the result
in <SAMP>bounds</SAMP>. The bounding box is a rectangle,
relative to the origin of the first character of the
string, that encloses the outlines of all characters in the
string. The x and y coordinates of the bounding rectangle
are often negative.
</DD></DL>
<P>
<A NAME="vfontFixStringWidth"><HR><H4>vfontFixStringWidth</H4></A>
<PRE>
        void <B>vfontFixStringWidth</B>(
                vfont * font,
                const vchar * s,
                vfixed * dx,
                vfixed * dy);
</PRE>

<DL><DD>
Measures the width of the string <SAMP>s</SAMP> in the font
<SAMP>font </SAMP>and returns the width offsets in
<SAMP>dx</SAMP> and <SAMP>dy</SAMP>. For unrotated Roman
fonts, the <SAMP>dy</SAMP> component is zero (see Figure).
</DD></DL>
<P>
<A NAME="vfontFixStringWidthX"><HR><H4>vfontFixStringWidthX</H4></A>
<PRE>
        vfixed <B>vfontFixStringWidthX</B>(
                vfont * font,
                const vchar * s);
</PRE>

<DL><DD>
Measures the width of the string <SAMP>s</SAMP> when drawn
in the font <SAMP>font </SAMP>and returns the x component.
This function should not be used if you want to accommodate
non-Roman fonts (see Figure).
</DD></DL>
<P>
<A NAME="vfontFixWidth"><HR><H4>vfontFixWidth</H4></A>
<PRE>
        void <B>vfontFixWidth</B>(
                vfont * font,
                vfixed * dx,
                vfixed * dy);
</PRE>

<DL><DD>
Measures the maximum width of any character in the font
<SAMP>font</SAMP> and returns it in <SAMP>dx</SAMP> and
<SAMP>dy</SAMP>. This function is most useful for measuring
monospaced fonts (see Figure).
  <P>
<BLOCKQUOTE>
Figure: Font width
  <P>
<IMG SRC="Font.Font_width.gif"></BLOCKQUOTE>
</DD></DL>
<P>
<A NAME="vfontFixWidthX"><HR><H4>vfontFixWidthX</H4></A>
<PRE>
        vfixed <B>vfontFixWidthX</B>(
                vfont * font);
</PRE>

<DL><DD>
Measures the maximum width of any character in the font
<SAMP>font</SAMP> and returns its x component. This
function is most useful for measuring monospaced fonts (see
Figure).
</DD></DL>
<P>
<A NAME="vfontGetClass"><HR><H4>vfontGetClass</H4></A>
<PRE>
        vfontClass * <B>vfontGetClass</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the class of the font <SAMP>font</SAMP>.
</DD></DL>
<P>
<A NAME="vfontGetDefaultClass"><HR><H4>vfontGetDefaultClass</H4></A>
<PRE>
        vfontClass * <B>vfontGetDefaultClass</B>();
</PRE>

<DL><DD>
Returns the class used to create fonts by the
<CODE><A HREF="vfont-x.html#vfontCreate"><CODE>vfontCreate</CODE></A></CODE> and <CODE>vfontInit</CODE>
functions. This class can be modified to alter the behavior
of all fonts subsequently created by these functions.
Changes to this class are visible to any other applications
in the same process or sharing the same display server.
This function can be called to explicitly register the
default font class with the Class class.
</DD></DL>
<P>
<A NAME="vfontGetDefaultFaceClass"><HR><H4>vfontGetDefaultFaceClass</H4></A>
<PRE>
        vfontFaceClass * <B>vfontGetDefaultFaceClass</B>();
</PRE>

<DL><DD>
Returns the class used to create font faces by the
<CODE><A HREF="vfont-x.html#vfontCreateFace"><CODE>vfontCreateFace</CODE></A></CODE> and <CODE>vfontInitFace</CODE>
functions. This class can be modified to alter the behavior
of all font faces subsequently created by these functions.
Changes to this class are visible to any other applications
in the same process or sharing the same display server.
This function can be called to explicitly register the
default font face class with the Class class.
</DD></DL>
<P>
<A NAME="vfontGetDefaultFamilyClass"><HR><H4>vfontGetDefaultFamilyClass</H4></A>
<PRE>
        vfontFamilyClass * <B>vfontGetDefaultFamilyClass</B>();
</PRE>

<DL><DD>
Returns the class used to create font families by the
<CODE><A HREF="vfont-x.html#vfontCreateFamily"><CODE>vfontCreateFamily</CODE></A></CODE> and <CODE>vfontInitFamily</CODE>
functions. This class can be modified to alter the behavior
of all font families subsequently created by these functions.
Changes to this class are visible to any other applications
in the same process or sharing the same display server.
This function can be called to explicitly register the
default font family class with the Class class.
</DD></DL>
<P>
<A NAME="vfontGetFace"><HR><H4>vfontGetFace</H4></A>
<PRE>
        vfontFace * <B>vfontGetFace</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the typeface to which the font <SAMP>font
</SAMP>belongs.
</DD></DL>
<P>
<A NAME="vfontGetFaceAt"><HR><H4>vfontGetFaceAt</H4></A>
<PRE>
        vfontFace * <B>vfontGetFaceAt</B>(
                int index);
</PRE>

<DL><DD>
Returns the typeface at index <SAMP>index</SAMP> in the
typeface list. Indices range from zero to the number of
typefaces that belong to the typeface family minus 1. Use
<CODE><A HREF="vfont-x.html#vfontGetFaceCount"><CODE>vfontGetFaceCount</CODE></A></CODE> to get the number of
typefaces available.
  <P>
The list is sorted alphabetically according to family and
typeface name. The typeface list can be used to construct a
menu or list that lets the user select a typeface, although
it is usually more appropriate to select a typeface from a
family's typeface list. You must call
<CODE><A HREF="vfont-x.html#vfontGetFaceCount"><CODE>vfontGetFaceCount</CODE></A></CODE> before calling this
function.
</DD></DL>
<P>
<A NAME="vfontGetFaceClass"><HR><H4>vfontGetFaceClass</H4></A>
<PRE>
        vfontFaceClass * <B>vfontGetFaceClass</B>(
                vfontFace * face);
</PRE>

<DL><DD>
Returns the class of the font face <SAMP>face</SAMP>.
</DD></DL>
<P>
<A NAME="vfontGetFaceCount"><HR><H4>vfontGetFaceCount</H4></A>
<PRE>
        int <B>vfontGetFaceCount</B>();
</PRE>

<DL><DD>
Returns the number of typefaces available. This can be zero
if no typefaces have been created yet. You can retrieve
particular typefaces with <CODE><A HREF="vfont-x.html#vfontGetFaceAt"><CODE>vfontGetFaceAt</CODE></A></CODE>. Note
that you must call this function before calling
<CODE><A HREF="vfont-x.html#vfontGetFaceAt"><CODE>vfontGetFaceAt</CODE></A></CODE>.
</DD></DL>
<P>
<A NAME="vfontGetFaceFamily"><HR><H4>vfontGetFaceFamily</H4></A>
<PRE>
        vfontFamily * <B>vfontGetFaceFamily</B>(
                vfontFace * face);
</PRE>

<DL><DD>
Returns the typeface family to which the typeface
<SAMP>face </SAMP>belongs.
</DD></DL>
<P>
<A NAME="vfontGetFaceFontAt"><HR><H4>vfontGetFaceFontAt</H4></A>
<PRE>
        vfont * <B>vfontGetFaceFontAt</B>(
                vfontFace * face,
                int index);
</PRE>

<DL><DD>
Returns the font at index <SAMP>index</SAMP> in the font
list of the typeface <SAMP>face</SAMP>. Indices range from
zero to <SAMP><A HREF="vfont-x.html#vfontGetFaceFontCount"><CODE>vfontGetFaceFontCount</CODE></A>()-1</SAMP>. This
function can be used to construct a list or menu of
available fonts for a given typeface. Fonts are sorted into
ascending order by size. 
<P>
Note that the font list can expand
at any time if the typeface is scalable. Any size font
(subject to implementation limits) is potentially available
to a scalable typeface. You must call
<CODE><A HREF="vfont-x.html#vfontGetFaceFontCount"><CODE>vfontGetFaceFontCount</CODE></A></CODE> before calling this
function.
</DD></DL>
<P>
<A NAME="vfontGetFaceFontCount"><HR><H4>vfontGetFaceFontCount</H4></A>
<PRE>
        int <B>vfontGetFaceFontCount</B>(
                vfontFace * face);
</PRE>

<DL><DD>
Returns the number of fonts that belong to the typeface.
This can be zero if no fonts have been created for the
typeface. This value can increase at any time if
the typeface is scalable. You can retrieve particular
typefaces with <CODE><A HREF="vfont-x.html#vfontGetFaceFontAt"><CODE>vfontGetFaceFontAt</CODE></A></CODE>. Note that
you must call this function before calling
<CODE><A HREF="vfont-x.html#vfontGetFaceFontAt"><CODE>vfontGetFaceFontAt</CODE></A></CODE>.
</DD></DL>
<P>
<A NAME="vfontGetFaceInfo"><HR><H4>vfontGetFaceInfo</H4></A>
<PRE>
        const void * <B>vfontGetFaceInfo</B>(
                vfontFace * face,
                int id);
</PRE>

<DL><DD>
Returns the device information for the typeface
<SAMP>face</SAMP> on the device identified by
<SAMP>id</SAMP>. This pointer can be <SAMP>NULL</SAMP>.
</DD></DL>
<P>
<A NAME="vfontGetFaceInstance"><HR><H4>vfontGetFaceInstance</H4></A>
<PRE>
        vinstance * <B>vfontGetFaceInstance</B>(
                vfontFace * face);
</PRE>

<DL><DD>
Returns the instance upon which the font face is constructed.
</DD></DL>
<P>
<A NAME="vfontGetFaceName"><HR><H4>vfontGetFaceName</H4></A>
<PRE>
        const vname * <B>vfontGetFaceName</B>(
                vfontFace * face);
</PRE>

<DL><DD>
Returns the name of the typeface pointed to by
<SAMP>face</SAMP>. Examples include ``Roman'' and ``bold
oblique.''
</DD></DL>
<P>
<A NAME="vfontGetFamilyAt"><HR><H4>vfontGetFamilyAt</H4></A>
<PRE>
        vfontFamily * <B>vfontGetFamilyAt</B>(
                int index);
</PRE>

<DL><DD>
Returns a pointer to the typeface family at index
<SAMP>index</SAMP> in the family list. Indices range from
zero to <SAMP><A HREF="vfont-x.html#vfontGetFamilyCount"><CODE>vfontGetFamilyCount</CODE></A>()-1</SAMP>. The family
list is sorted alphabetically according to name, foundry,
and character set. The family list can be used to construct
a menu or list that lets the user select a typeface family.
You must call <CODE><A HREF="vfont-x.html#vfontGetFamilyCount"><CODE>vfontGetFamilyCount</CODE></A></CODE> before
calling this function.
</DD></DL>
<P>
<A NAME="vfontGetFamilyClass"><HR><H4>vfontGetFamilyClass</H4></A>
<PRE>
        vfontFamilyClass * <B>vfontGetFamilyClass</B>(
                vfontFamily * family);
</PRE>

<DL><DD>
Returns the class of the font family <SAMP>family</SAMP>.
</DD></DL>
<P>
<A NAME="vfontGetFamilyCount"><HR><H4>vfontGetFamilyCount</H4></A>
<PRE>
        int <B>vfontGetFamilyCount</B>();
</PRE>

<DL><DD>
Returns the number of typeface families available. This may
be zero if no families have been created yet. You can
retrieve particular typeface families with
<CODE><A HREF="vfont-x.html#vfontGetFamilyAt"><CODE>vfontGetFamilyAt</CODE></A></CODE>. Note that you must call this
function before calling <CODE><A HREF="vfont-x.html#vfontGetFamilyAt"><CODE>vfontGetFamilyAt</CODE></A></CODE>.
</DD></DL>
<P>
<A NAME="vfontGetFamilyEncoding"><HR><H4>vfontGetFamilyEncoding</H4></A>
<PRE>
        const vname * <B>vfontGetFamilyEncoding</B>(
                vfontFamily * family);
</PRE>

<DL><DD>
Returns the character set encoding for the typeface family
<SAMP>family</SAMP>. The name can include spaces. Examples
include ``iso8859 1'' and ``ascii.''
</DD></DL>
<P>
<A NAME="vfontGetFamilyFaceAt"><HR><H4>vfontGetFamilyFaceAt</H4></A>
<PRE>
        vfontFace * <B>vfontGetFamilyFaceAt</B>(
                vfontFamily * family,
                int index);
</PRE>

<DL><DD>
Returns the typeface at index <SAMP>index</SAMP> in the
typeface list of the typeface family <SAMP>family</SAMP>.
Indices range from zero to
<SAMP><A HREF="vfont-x.html#vfontGetFamilyFaceCount"><CODE>vfontGetFamilyFaceCount</CODE></A>()-1</SAMP>. This function can
be used to construct a list or menu of available typefaces
for a given family. Typefaces are sorted into alphabetical
order by name. You must call
<CODE><A HREF="vfont-x.html#vfontGetFamilyFaceCount"><CODE>vfontGetFamilyFaceCount</CODE></A></CODE> before calling this
function.
</DD></DL>
<P>
<A NAME="vfontGetFamilyFaceCount"><HR><H4>vfontGetFamilyFaceCount</H4></A>
<PRE>
        int <B>vfontGetFamilyFaceCount</B>(
                vfontFamily * family);
</PRE>

<DL><DD>
Returns the number of typefaces that belong to the typeface
family <SAMP>family</SAMP>. This can be zero if no
typefaces have been created for the family. You can
retrieve particular typefaces with
<CODE><A HREF="vfont-x.html#vfontGetFamilyFaceAt"><CODE>vfontGetFamilyFaceAt</CODE></A></CODE>. Note that you must call
this function before calling
<CODE><A HREF="vfont-x.html#vfontGetFamilyFaceAt"><CODE>vfontGetFamilyFaceAt</CODE></A></CODE>.
</DD></DL>
<P>
<A NAME="vfontGetFamilyFoundry"><HR><H4>vfontGetFamilyFoundry</H4></A>
<PRE>
        const vname * <B>vfontGetFamilyFoundry</B>(
                vfontFamily * family);
</PRE>

<DL><DD>
Returns the foundry that created the typeface family
<SAMP>family</SAMP>. The name can include spaces. Examples
include ``adobe'' and ``bitstream.''
</DD></DL>
<P>
<A NAME="vfontGetFamilyInfo"><HR><H4>vfontGetFamilyInfo</H4></A>
<PRE>
        const void * <B>vfontGetFamilyInfo</B>(
                vfontFamily * family,
                int id);
</PRE>

<DL><DD>
Returns the device information for the typeface family
<SAMP>family</SAMP> on the device identified by
<SAMP>id</SAMP>. This pointer can be <SAMP>NULL</SAMP>.
</DD></DL>
<P>
<A NAME="vfontGetFamilyInstance"><HR><H4>vfontGetFamilyInstance</H4></A>
<PRE>
        vinstance * <B>vfontGetFamilyInstance</B>(
                vfontFamily * family);
</PRE>

<DL><DD>
Returns the instance upon which the font family is constructed.
</DD></DL>
<P>
<A NAME="vfontGetFamilyName"><HR><H4>vfontGetFamilyName</H4></A>
<PRE>
        const vname * <B>vfontGetFamilyName</B>(
                vfontFamily * family);
</PRE>

<DL><DD>
Returns the name of the typeface family
<SAMP>family</SAMP>. The name can include spaces. Examples
include ``times'' and ``new century schoolbook.''
</DD></DL>
<P>
<A NAME="vfontGetInfo"><HR><H4>vfontGetInfo</H4></A>
<PRE>
        const void * <B>vfontGetInfo</B>(
                vfont * font,
                int id);
</PRE>

<DL><DD>
Returns the device information for the font
<SAMP>font</SAMP> on the device identified by
<SAMP>id</SAMP>. This information is used by the driver to
identify the font. This pointer can be <SAMP>NULL</SAMP>.
</DD></DL>
<P>
<A NAME="vfontGetInstance"><HR><H4>vfontGetInstance</H4></A>
<PRE>
        vinstance * <B>vfontGetInstance</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the instance upon which the font is constructed.
</DD></DL>
<P>
<A NAME="vfontGetKey"><HR><H4>vfontGetKey</H4></A>
<PRE>
        const vname * <B>vfontGetKey</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns a unique identifier for the font <SAMP>font</SAMP>.
This key can be stored in document files and transferred
across different systems, and it will still correctly
identify the font. To recover a font from a font key, use
<CODE><A HREF="vfont-x.html#vfontFind"><CODE>vfontFind</CODE></A></CODE>. Typical keys are
``family:times-face:roman-size:10'' and ``family:new
century schlbk-face:bold italic-size:12.'' Applications
should not depend on particular attributes being present in
a key, since the Font class's protocol may be expanded in
the future. Refer to the discussion of
<CODE><A HREF="vfont-x.html#vfontFind"><CODE>vfontFind</CODE></A></CODE> earlier in this chapter for more
information on key/value pairs.
</DD></DL>
<P>
<A NAME="vfontGetMatrix"><HR><H4>vfontGetMatrix</H4></A>
<PRE>
        const vmatrix * <B>vfontGetMatrix</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the transformation matrix for the font
<SAMP>font</SAMP>. The font's character space is
transformed by this matrix to get user space coordinates
for character shapes.
</DD></DL>
<P>
<A NAME="vfontGetName"><HR><H4>vfontGetName</H4></A>
<PRE>
        const vname * <B>vfontGetName</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the user-readable name of the font
<SAMP>font</SAMP>. This name can be used to identify the
font in user-interface objects. The name contains mixed
case and spaces. Typical names are ``Times Roman 10'' or
``New Century Schoolbook Bold Italic 12.''
</DD></DL>
<P>
<A NAME="vfontGetSize"><HR><H4>vfontGetSize</H4></A>
<PRE>
        int <B>vfontGetSize</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the size of the font <SAMP>font</SAMP>. Text is
drawn at the returned size (in user space units) by the
Drawing Manager when <SAMP>font</SAMP> is the current font.
User space units are points by default, so this value can
be treated as a point size. A font's size is the
<SAMP>d</SAMP> component of its transformation matrix; if
the font is rotated or inverted, unexpected results may be
returned. Refer to the ``Plane Geometry Manager'' chapter
of the <I>Galaxy Application Environment Programmer's
Guide</I> for more information on transformation matrices.
</DD></DL>
<P>
<A NAME="vfontHeight"><HR><H4>vfontHeight</H4></A>
<PRE>
        int <B>vfontHeight</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns the height of the font <SAMP>font</SAMP>. The
font<B><I>height</I></B> is the sum of the font's ascent
and descent. Height may be meaningless for non-Roman fonts.
For Roman fonts, the height is the minimum amount of line
spacing that successive lines of text in the font require
(see Figure).
</DD></DL>
<P>
<A NAME="vfontIsAvailOn"><HR><H4>vfontIsAvailOn</H4></A>
<PRE>
        int <B>vfontIsAvailOn</B>(
                vfont * font,
                int id);
</PRE>

<DL><DD>
Returns <SAMP>TRUE</SAMP> if the font <SAMP>font</SAMP> is
available on the device identified by <SAMP>id</SAMP>,
<SAMP>FALSE</SAMP> if it is not. Availability is determined
by which devices have called <CODE><A HREF="vfont-x.html#vfontCreate"><CODE>vfontCreate</CODE></A></CODE> for
the font.
</DD></DL>
<P>
<A NAME="vfontIsSquare"><HR><H4>vfontIsSquare</H4></A>
<PRE>
        int <B>vfontIsSquare</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns <SAMP>TRUE</SAMP> if the transformation matrix of
the font <SAMP>font</SAMP> is aligned along the coordinate
axes and scaling along each axis is identical. This
function essentially determines if a font is not rotated
and not scaled non-uniformly.
</DD></DL>
<P>
<A NAME="vfontIsUpright"><HR><H4>vfontIsUpright</H4></A>
<PRE>
        int <B>vfontIsUpright</B>(
                vfont * font);
</PRE>

<DL><DD>
Returns <SAMP>TRUE</SAMP> if the transformation matrix of
the font <SAMP>font</SAMP> is aligned along the coordinate
axes. This function essentially determines if a font is not
rotated; squareness implies uprightness, but not
vice-versa.
</DD></DL>
<P>
<A NAME="vfontLoad"><HR><H4>vfontLoad</H4></A>
<PRE>
        vfont * <B>vfontLoad</B>(
                vresource resource);
</PRE>

<DL><DD>
Reads the font specification from the resource
<SAMP>resource</SAMP>, matches it with an available font,
and returns the matched font.
</DD></DL>
<P>
<A NAME="vfontMake"><HR><H4>vfontMake</H4></A>
<PRE>
        vfont * <B>vfontMake</B>(
                vfontFace * face,
                const vmatrix * mtx);
</PRE>

<DL><DD>
Returns a font of the typeface <SAMP>face</SAMP> with the
transformation matrix <SAMP>mtx</SAMP>. This function
creates the font if it does not exist already. You can use
this function to transform an existing font
<SAMP>font</SAMP> to a new matrix <SAMP>mtx</SAMP> with
<SAMP>vfontMake(<A HREF="vfont-x.html#vfontGetFace"><CODE>vfontGetFace</CODE></A>(font), mtx)</SAMP>.
</DD></DL>
<P>
<A NAME="vfontMatch"><HR><H4>vfontMatch</H4></A>
<PRE>
        vfont * <B>vfontMatch</B>(
                vfontFace * face,
                const vmatrix * mtx,
                int id);
</PRE>

<DL><DD>
Returns a font whose matrix most closely matches
<SAMP>mtx</SAMP> for the typeface <SAMP>face</SAMP> on the
device identified by <SAMP>id</SAMP>. If <SAMP>id</SAMP> is
<SAMP>-1</SAMP>, all devices are recognized. This function
always returns an existing font; it does not create a new
font to satisfy the request.
</DD></DL>
<P>
<A NAME="vfontRegisterDefault"><HR><H4>vfontRegisterDefault</H4></A>
<PRE>
        void <B>vfontRegisterDefault</B>(
                const vchar * defaultKey);
</PRE>

<DL><DD>
Specifies the default attributes to use when font request
attributes are left unspecified or are unavailable.
<SAMP>defaultKey</SAMP> is a font key (refer to
<CODE><A HREF="vfont-x.html#vfontFind"><CODE>vfontFind</CODE></A></CODE>) that specifies the default font
attributes. Multiple attribute specifications of the same
type can be included to resolve different kinds of
ambiguities. Attributes are listed in order of priority.
This function is called by the window system drivers to
register the window system default font attributes; it
should not be called by applications.
</DD></DL>
<P>
<A NAME="vfontRegisterDevice"><HR><H4>vfontRegisterDevice</H4></A>
<PRE>
        int <B>vfontRegisterDevice</B>();
</PRE>

<DL><DD>
Registers a logical font device with the Font class and
returns a unique integer that identifies the device. Device
identifiers are necessary for creating families, typefaces,
and fonts. Initialization performance is better if all
devices are registered before any fonts are created, but
this is not essential for correct behavior. This function
is only useful for writing window system and device
drivers.
</DD></DL>
<P>
<A NAME="vfontRegisterMetrics"><HR><H4>vfontRegisterMetrics</H4></A>
<PRE>
        void <B>vfontRegisterMetrics</B>(
                const vfontMetricsFuncs * metrics);
</PRE>

<DL><DD>
Registers font metrics functions with the Font class. The
Font class includes one set of metrics functions for all
devices. It is typically the responsibility of the screen
device to provide these functions, but they can also be
provided by printer devices or file-based resources to
provide better accuracy. It is important that a single set
of metrics be used for all fonts so that display fidelity
is preserved. The structure addressed by
<SAMP>metrics</SAMP> should contain pointers to functions
that implement the Font class's various metrics
interfaces; refer to the documentation for
<CODE><A HREF="vfont-x.html#vfontMetricsFuncs"><CODE>vfontMetricsFuncs</CODE></A></CODE> for specific functions. This
function is called by the window system drivers to register
the window system metrics functions; it should not be
called by applications.
</DD></DL>
<P>
<A NAME="vfontRegisterStartup"><HR><H4>vfontRegisterStartup</H4></A>
<PRE>
        void <B>vfontRegisterStartup</B>(
                vfontStartupProc startup);
</PRE>

<DL><DD>
Registers a startup function with the Font class. This
function is called if a font request is made and no font
resources are available; the function <SAMP>startup</SAMP>
should create whatever font resources it can so that the
Font class can return a match. This function is called by
the window system drivers to register the window system
startup function; it should not be called by applications.
</DD></DL>
<P>
<A NAME="vfontScale"><HR><H4>vfontScale</H4></A>
<PRE>
        vfont * <B>vfontScale</B>(
                vfontFace * face,
                int size);
</PRE>

<DL><DD>
Returns a font of size <SAMP>size</SAMP> (given as an
<SAMP>int</SAMP>) for the typeface <SAMP>face</SAMP>. This
function creates the font if it does not exist already. You
can use this function to transform an existing font
<SAMP>font</SAMP> to a new size <SAMP>size</SAMP> with
<SAMP><A HREF="vfont-x.html#vfontFScale"><CODE>vfontFScale</CODE></A>(<A HREF="vfont-x.html#vfontGetFace"><CODE>vfontGetFace</CODE></A>(font), size)</SAMP>.
</DD></DL>
<P>
<A NAME="vfontScribeEscapeString"><HR><H4>vfontScribeEscapeString</H4></A>
<PRE>
        vscribe * <B>vfontScribeEscapeString</B>(
                const vchar * value);
</PRE>

<DL><DD>
Returns a scribed version of the string in which certain characters
are escaped by a backslash. Certain characters in a font description
key string can cause problems for the font key parser. For instance
some font names contain a dash which the font key parser would
incorrectly interpret as indicating the beginning of a new attribute.
This method escapes all such problematic characters which should be
interpreted literally.
</DD></DL>
<P>
<A NAME="vfontScribedStringBounds"><HR><H4>vfontScribedStringBounds</H4></A>
<PRE>
        void <B>vfontScribedStringBounds</B>(
                vfont * font,
                vscribe * scribe,
                vrect * bounds);
</PRE>

<DL><DD>
Measures the bounding box of the scribe <SAMP>scribe</SAMP>
when drawn in the font <SAMP>font</SAMP> and stores the
result in <SAMP>bounds</SAMP>. The bounding box is a
rectangle, relative to the origin of the first character of
the string, that encloses the outlines of all characters in
the string. The x and y coordinates of the bounding
rectangle are often negative. This function rounds the
result of <CODE><A HREF="vfont-x.html#vfontFixScribedStringBounds"><CODE>vfontFixScribedStringBounds</CODE></A></CODE>. Scribed
entry points allow you to measure strings in other
character sets or representations (see Figure).
  <P>
Refer to the ``String Manager'' chapter of the <I>Galaxy
Application Environment Programmer's Guide</I> for more
information about scribes.
</DD></DL>
<P>
<A NAME="vfontScribedStringWidth"><HR><H4>vfontScribedStringWidth</H4></A>
<PRE>
        void <B>vfontScribedStringWidth</B>(
                vfont * font,
                vscribe * scribe,
                int * dx,
                int * dy);
</PRE>

<DL><DD>
Measures the width of the scribe <SAMP>scribe</SAMP> in the
font <SAMP>font</SAMP> and returns the width offsets in
<SAMP>dx</SAMP> and <SAMP>dy</SAMP>. This function rounds
the result of <CODE><A HREF="vfont-x.html#vfontFixScribedStringWidth"><CODE>vfontFixScribedStringWidth</CODE></A></CODE>. If
cumulative measurements are being performed, it is
important that the fixed-point form of this function be
used. For unrotated Roman fonts, the <SAMP>dy</SAMP>
component is zero (see Figure). Scribed entry points allow
you to measure strings in other character sets or
representations; refer to the ``String Manager'' chapter of
the <I>Galaxy Application Environment Programmer's
Guide</I> for more information about scribes.
</DD></DL>
<P>
<A NAME="vfontScribedStringWidthX"><HR><H4>vfontScribedStringWidthX</H4></A>
<PRE>
        int <B>vfontScribedStringWidthX</B>(
                vfont * font,
                vscribe * scribe);
</PRE>

<DL><DD>
Measures the width of the scribe <SAMP>scribe</SAMP> when
drawn in the font <SAMP>font</SAMP> and returns the x
component (see Figure). This function rounds the result of
<CODE><A HREF="vfont-x.html#vfontFixScribedStringWidthX"><CODE>vfontFixScribedStringWidthX</CODE></A></CODE>. If cumulative
measurements are being performed, it is important that the
fixed-point form of this function be used. This function
should not be used if you want to accommodate non-Roman
fonts. Scribed entry points allow you to measure strings in
other character sets or representations. Refer to the
``String Manager'' chapter of the <I>Galaxy Application
Environment Programmer's Guide</I> for more information
about scribes.
</DD></DL>
<P>
<A NAME="vfontSetFaceInfo"><HR><H4>vfontSetFaceInfo</H4></A>
<PRE>
        void <B>vfontSetFaceInfo</B>(
                vfontFace * face,
                int id,
                const void * info);
</PRE>

<DL><DD>
Changes the device-dependent information for the typeface
<SAMP>face</SAMP> on the device designated by
<SAMP>id</SAMP> to <SAMP>info</SAMP>. This information is
used by the driver to identify the typeface during font
rendering and character measurement. Each device can set
the typeface information of any typeface to whatever
pointer it likes. <SAMP>info</SAMP> can be
<SAMP>NULL</SAMP>.
</DD></DL>
<P>
<A NAME="vfontSetFamilyInfo"><HR><H4>vfontSetFamilyInfo</H4></A>
<PRE>
        void <B>vfontSetFamilyInfo</B>(
                vfontFamily * family,
                int id,
                const void * info);
</PRE>

<DL><DD>
Changes the device-dependent information for the typeface
family <SAMP>family</SAMP> on the device designated by
<SAMP>id</SAMP> to <SAMP>info</SAMP>. This information is
used by the driver to identify the family during font
rendering and character measurement. Each device can set
the family information of any family to whatever pointer it
likes. <SAMP>info</SAMP> can be <SAMP>NULL</SAMP>.
</DD></DL>
<P>
<A NAME="vfontSetInfo"><HR><H4>vfontSetInfo</H4></A>
<PRE>
        void <B>vfontSetInfo</B>(
                vfont * font,
                int id,
                const void * info);
</PRE>

<DL><DD>
Changes the device-dependent information for the font
<SAMP>font</SAMP> on the device designated by
<SAMP>id</SAMP> to <SAMP>info</SAMP>. Each device can set
the font information of any font to whatever pointer it
likes. This information is used by the driver to identify
the font during character rendering and measurement.
<SAMP>info</SAMP> can be <SAMP>NULL</SAMP>.
</DD></DL>
<P>
<A NAME="vfontSizedStringBounds"><HR><H4>vfontSizedStringBounds</H4></A>
<PRE>
        void <B>vfontSizedStringBounds</B>(
                vfont * font,
                const vchar * s,
                size_t count,
                vrect * bounds);
</PRE>

<DL><DD>
Measures the bounding box of the string <SAMP>s</SAMP> when
drawn in the font <SAMP>font</SAMP> and stores the result
in <SAMP>bounds</SAMP>. The bounding box is a rectangle,
relative to the origin of the first character of the
string, that encloses the outlines of all characters in the
string. The x and y coordinates of the bounding rectangle
are often negative. This function rounds the result of
<CODE><A HREF="vfont-x.html#vfontFixSizedStringBounds"><CODE>vfontFixSizedStringBounds</CODE></A></CODE>.
</DD></DL>
<P>
<A NAME="vfontSizedStringWidth"><HR><H4>vfontSizedStringWidth</H4></A>
<PRE>
        void <B>vfontSizedStringWidth</B>(
                vfont * font,
                const vchar * s,
                size_t count,
                int * dx,
                int * dy);
</PRE>

<DL><DD>
Measures the width of the string <SAMP>s</SAMP> in the font
<SAMP>font</SAMP> and returns the width offsets in
<SAMP>dx</SAMP> and <SAMP>dy</SAMP>. Exactly
<SAMP>count</SAMP> characters of the string are measured,
regardless of null characters. This function rounds the
result of <CODE><A HREF="vfont-x.html#vfontFixSizedStringWidth"><CODE>vfontFixSizedStringWidth</CODE></A></CODE>. If
cumulative measurements are being performed, it is
important that the fixed-point forms be used. For unrotated
Roman fonts, the <SAMP>dy</SAMP> component is zero (see
Figure).
</DD></DL>
<P>
<A NAME="vfontSizedStringWidthX"><HR><H4>vfontSizedStringWidthX</H4></A>
<PRE>
        int <B>vfontSizedStringWidthX</B>(
                vfont * font,
                const vchar * s,
                size_t count);
</PRE>

<DL><DD>
Measures the width of the string <SAMP>s</SAMP> when drawn
in the font <SAMP>font</SAMP> and returns the x component.
This function rounds the result of
<CODE><A HREF="vfont-x.html#vfontFixSizedStringWidthX"><CODE>vfontFixSizedStringWidthX</CODE></A></CODE>. If cumulative
measurements are being performed, it is important that the
fixed-point form of this function be used. This function
should not be used if you want to accommodate non-Roman
fonts (see Figure).
</DD></DL>
<P>
<A NAME="vfontStore"><HR><H4>vfontStore</H4></A>
<PRE>
        void <B>vfontStore</B>(
                vfont * font,
                vresource resource);
</PRE>

<DL><DD>
Writes a font specification for the font <SAMP>font</SAMP>
into the resource <SAMP>resource</SAMP> so that
<SAMP>font</SAMP> can be recovered (subject to availability
constraints) using <CODE><A HREF="vfont-x.html#vfontLoad"><CODE>vfontLoad</CODE></A></CODE>.
</DD></DL>
<P>
<A NAME="vfontStringBounds"><HR><H4>vfontStringBounds</H4></A>
<PRE>
        void <B>vfontStringBounds</B>(
                vfont * font,
                const vchar * s,
                vrect * bounds);
</PRE>

<DL><DD>
Measures the bounding box of the string <SAMP>s</SAMP> when
drawn in the font <SAMP>font</SAMP> and stores the result
in <SAMP>bounds</SAMP>. The bounding box is a rectangle,
relative to the origin of the first character of the
string, that encloses the outlines of all characters in the
string. The x and y coordinates of the bounding rectangle
are often negative. This function rounds the result of
<CODE><A HREF="vfont-x.html#vfontFixStringBounds"><CODE>vfontFixStringBounds</CODE></A></CODE> (see Figure).
</DD></DL>
<P>
<A NAME="vfontStringWidth"><HR><H4>vfontStringWidth</H4></A>
<PRE>
        void <B>vfontStringWidth</B>(
                vfont * font,
                const vchar * s,
                int * dx,
                int * dy);
</PRE>

<DL><DD>
Measures the width of the string <SAMP>s</SAMP> in the font
<SAMP>font</SAMP> and returns the width offsets in
<SAMP>dx</SAMP> and <SAMP>dy</SAMP>. This function rounds
the result of <CODE><A HREF="vfont-x.html#vfontFixStringWidth"><CODE>vfontFixStringWidth</CODE></A></CODE>. If
cumulative measurements are being performed, it is
important that the fixed-point form of this function be
used. For unrotated Roman fonts, the <SAMP>dy</SAMP>
component is zero (see Figure).
</DD></DL>
<P>
<A NAME="vfontStringWidthX"><HR><H4>vfontStringWidthX</H4></A>
<PRE>
        int <B>vfontStringWidthX</B>(
                vfont * font,
                const vchar * s);
</PRE>

<DL><DD>
Measures the width of the string <SAMP>s</SAMP> when drawn
in the font <SAMP>font</SAMP> and returns the x component.
Exactly <SAMP>count</SAMP> characters of the string are
measured, regardless of null characters. This function
rounds the result of
<CODE><A HREF="vfont-x.html#vfontFixSizedStringWidthX"><CODE>vfontFixSizedStringWidthX</CODE></A></CODE>. If cumulative
measurements are being performed, it is important that the
fixed-point forms be used. This function should not be used
if you want to accommodate non-Roman fonts (see Figure).
</DD></DL>
<P>
<A NAME="vfontWidth"><HR><H4>vfontWidth</H4></A>
<PRE>
        void <B>vfontWidth</B>(
                vfont * font,
                int * dx,
                int * dy);
</PRE>

<DL><DD>
Measures the maximum width of any character in the font
<SAMP>font</SAMP> and returns it in <SAMP>dx</SAMP> and
<SAMP>dy</SAMP>. This function is most useful for measuring
monospaced fonts (see Figure).
</DD></DL>
<P>
<A NAME="vfontWidthX"><HR><H4>vfontWidthX</H4></A>
<PRE>
        int <B>vfontWidthX</B>(
                vfont * font);
</PRE>

<DL><DD>
Measures the maximum width of any character in the font
<SAMP>font</SAMP> and returns its x component. This
function is most useful for measuring monospaced fonts (see
Figure).
</DD></DL>
<P>
<A NAME="section_Constant"><HR>
<CENTER><H2>Constants</H2></CENTER></A><P>
<A NAME="vfontDEFAULT_SIZE"><HR><H4>vfontDEFAULT_SIZE</H4></A>
<PRE>
        <B>vfontDEFAULT_SIZE</B>
</PRE>

<DL><DD>
Defines the default point size for Font class fonts. If
no point size is specified in a font request, the Font
class attempts to return a font of
<SAMP>vfontDEFAULT_SIZE</SAMP> size.
<SAMP>vfontDEFAULT_SIZE</SAMP> is an integer value.
</DD></DL>
<P>
<A NAME="vfontINCLUDED"><HR><H4>vfontINCLUDED</H4></A>
<PRE>
        <B>vfontINCLUDED</B>
</PRE>

<DL><DD>
Defined when the header file <SAMP>vfont.h</SAMP> is
included.
</DD></DL>
<P>
<A NAME="section_Macro"><HR>
<CENTER><H2>Macros</H2></CENTER></A><P>
<A NAME="vfontCLASS"><HR><H4>vfontCLASS</H4></A>
<PRE>
        #define <B>vfontCLASS</B>(...) ...
</PRE>

<DL><DD>
Contains the method and variable declarations for font
classes. This macro expands to the contents of
<CODE><A HREF="vfont-x.html#vfontClass"><CODE>vfontClass</CODE></A></CODE>. <SAMP>CLASS</SAMP> is the type
identifier of the class being declared (for example,
<CODE><A HREF="vfont-x.html#vfontClass"><CODE>vfontClass</CODE></A></CODE>). This type is used by the class's 
subclasses to refer to it. 
<SAMP>FONT</SAMP> is the type identifier of instances of the class
being declared (for example, <CODE>vfont</CODE>). 
This macro should be used by font subclasses to
declare the contents of the font class. This macro should come
first in the subclass structure declaration.
</DD></DL>
<P>
<A NAME="vfontFACE_CLASS"><HR><H4>vfontFACE_CLASS</H4></A>
<PRE>
        #define <B>vfontFACE_CLASS</B>(...) ...
</PRE>

<DL><DD>
Contains the method and variable declarations for font face
classes. This macro expands to the contents of
<CODE><A HREF="vfont-x.html#vfontFaceClass"><CODE>vfontFaceClass</CODE></A></CODE>. <SAMP>CLASS</SAMP> is the type
identifier of the class being declared (for example,
<CODE><A HREF="vfont-x.html#vfontFaceClass"><CODE>vfontFaceClass</CODE></A></CODE>). This type is used by the class's 
subclasses to refer to it. 
<SAMP>FACE</SAMP> is the type identifier of instances of the class
being declared (for example, <CODE><A HREF="vfont-x.html#vfontFace"><CODE>vfontFace</CODE></A></CODE>). 
This macro should be used by font face subclasses to
declare the contents of the font face class. This macro should come
first in the subclass structure declaration.
</DD></DL>
<P>
<A NAME="vfontFAMILY_CLASS"><HR><H4>vfontFAMILY_CLASS</H4></A>
<PRE>
        #define <B>vfontFAMILY_CLASS</B>(...) ...
</PRE>

<DL><DD>
Contains the method and variable declarations for font family
classes. This macro expands to the contents of
<CODE><A HREF="vfont-x.html#vfontFamilyClass"><CODE>vfontFamilyClass</CODE></A></CODE>. <SAMP>CLASS</SAMP> is the type
identifier of the class being declared (for example,
<CODE><A HREF="vfont-x.html#vfontFamilyClass"><CODE>vfontFamilyClass</CODE></A></CODE>). This type is used by the class's 
subclasses to refer to it. 
<SAMP>FAMILY</SAMP> is the type identifier of instances of the class
being declared (for example, <CODE><A HREF="vfont-x.html#vfontFamily"><CODE>vfontFamily</CODE></A></CODE>). 
This macro should be used by font family subclasses to
declare the contents of the font family class. This macro should come
first in the subclass structure declaration.
</DD></DL>
<P>

<P>
<!--[[/CONTENT]]-->

<HR>

<TABLE WIDTH=100% BORDER="0" CELLPADDING="0" CELLSPACING="0">

	<TR BGCOLOR="#996666">
		<TD>
		<CENTER>
<!--[[NAVIGATE_ICONIC]]-->
<!--[[/NAVIGATE_ICONIC]]-->
		</CENTER>
		</TD>
		    
		<TD>
		<BR>
		<FONT SIZE=-1>
	        <A HREF="#Top">Top of This Page</A> <BR>
	        <A HREF="index.html">Table of Contents</A> <BR>
		<A HREF="../index.html">Switch to Another Document</A><BR>
		<BR>
		</FONT>
		</TD>

		<TD>
		<BR>
		<FONT SIZE=-1>
		Need help?
		<A HREF="../contact-visix.html">
		Contact Visix</A>.
		<BR> <BR>
	        <A HREF="../copyright.html">Copyright &#169; 1996-97</A>,
		<A HREF="http://www.visix.com/">Visix Software Inc.</A><BR>
		<BR>
		</FONT>
		</TD>

	</TR>

</TABLE>
		
</BODY>
</HTML>



