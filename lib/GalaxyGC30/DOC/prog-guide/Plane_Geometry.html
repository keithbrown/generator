<HTML>
<HEAD>
<TITLE>Plane Geometry</TITLE>
</HEAD>

<BODY background="graphics/bg.gif" BGCOLOR="#FFFFFF" TEXT="#000000">

<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0">
	<TR>
		<!-- Margin Banner -->
		<TD WIDTH="130"><CENTER><IMG SRC="graphics/logo.gif">
		<IMG WIDTH="130" SRC="graphics/trans.gif"></CENTER></TD>
		<!-- Margin Spacer -->
		<TD ROWSPAN="2" WIDTH="20">
		<IMG WIDTH="20" SRC="graphics/trans.gif"><P></TD>
	
	
		<!-- Title block: DOCUMENT TITLE GOES HERE -->
		<TD VALIGN=TOP><BR>
		     <H1>Plane Geometry</H1>
		     <BR>
		</TD>

	</TR><TR>
	
		<!-- Navigation Icons & Related Topics -->
		<TD WIDTH="130" VALIGN="TOP" ALIGN="LEFT"> 
		
		<CENTER>
		<BR>
		<IMG WIDTH=6 HEIGHT=21 SRC="graphics/trans.gif">
		
	
  		<!-- These are the Navigation buttons -->
		<A HREF="Palette.html"><IMG WIDTH=24 HEIGHT=31 BORDER=0 SRC="graphics/left.gif"></A>
		<A HREF="index.html"><IMG WIDTH=22 HEIGHT=33 BORDER=0 SRC="graphics/up.gif"></A>
		<A HREF="Preference.html"><IMG WIDTH=24 HEIGHT=31 BORDER=0 SRC="graphics/right.gif"></A>

		
		<IMG WIDTH=6 HEIGHT=21 SRC="graphics/trans.gif">
		<BR>
  </CENTER>
		</TD>
	
		<!-- Text Area -->
		<TD VALIGN="TOP" ROWSPAN="2">
			<BR>
			
<!---------------------------------->
<!-- Begin actual manual material -->
<!---------------------------------->

 
<A NAME="63"></A>
 <EM><B>Plane Geometry </B></EM>is a group of libraries that allow you to manipulate coordinates in a two-dimensional plane. It includes the Fixed-Point, Matrix, Point, Rectangle, and Transformation data types.<P>
The <EM><B>Fixed-Point</B></EM> data type implements a set of services that let you conveniently manipulate numbers in fixed-point form. A fixed-point number is a number with a fractional component that has a constant exponent. Fixed-point numbers are not integers (integers have no fractional component) and they are not floating-point numbers (floating-point numbers have variable exponents). Fixed-point numbers may be implemented by designating a given number of low-order bits of a processor word for the fractional component. The Fixed-Point data type is used chiefly by the Drawing and Font classes to express device space coordinates and character metrics.<P>
The <EM><B>Matrix</B></EM> data type provides a <EM><B>transformation matrix</B></EM> data structure along with a set of functions that are useful for manipulating transformation matrices. Transformation matrices map coordinates between two-dimensional coordinate systems. Matrices are especially useful for implementing graphics environments in which the coordinate system seen by client code is independent of the resolution of the graphics hardware. Transformations can also be used to achieve special graphics effects (such as rotation, scaling, and skewing) in a manner that is transparent to the code constructing the actual drawing. Matrix structure members are visible clients of the Matrix data type, but their particular representation is not. This data type is used extensively by the Drawing class to implement display transformations.<P>
The <EM><B>Point</B></EM> data type implements several two-dimensional coordinate data types from scalar data types and provides functions to operate on them. Point structure members are visible clients of the Point data type, but their particular representation is not. Point data types are used only occasionally by other Galaxy libraries.<P>
The <EM><B>Rectangle</B></EM> data type provides several rectangle data types, along with functions to manipulate them. Rectangle structure members are visible clients of the Matrix data type, but their particular representation is not. This data type is commonly used by other Galaxy libraries.<P>
The <EM><B>Transformation</B></EM> data type<EM><B></B></EM> uses the Fixed-Point data type to implement a fixed-point transformation matrix data type called a <EM><B>transformation</B></EM>. Transformation structure members are visible clients of the Transformation data type, but their particular representation is not. Transformations are used by the Drawing class to efficiently implement image and text transformations.<P>
<A NAME="74"><H2> Transformation Matrices</H2></A>
Transformation matrices map coordinates from one coordinate system to another coordinate system. A transformation matrix is a 3x3 matrix, 3 of whose elements are fixed by convention. The <TT>vmatrix</TT> data type contains the six structure members a, b, c, d, tx, and ty. These structure members correspond to the following elements of a 3x3 matrix:<P>
<PRE><UL>a      b      0
c      d      0
tx     ty     1
</UL></PRE>Transformation matrices are used by the Drawing class to compute the coordinate mapping from user space to device space. Refer to the Drawing chapter for more information on user space and device space.<P>
Given the 3x3 matrix (above), the linear equation for transforming coordinate (x,y) into (x',y') is:<P>
<DL>
<DT><DD> x' = ax + cy + tx
<DT><DD> y' = bx + dy + ty
</DL>
However, a matrix can also be interpreted as a geometric transformation rather than a mathematical equation. Geometric transformations include <EM><B>translation</B></EM>, which offsets the origin of a coordinate system by a given amount; <EM><B>scaling</B></EM>, which changes the unit size of either or both the x and y axes; and <EM><B>rotation</B></EM>, which rotates the axes of the coordinate system about the origin. These geometric transformations can be described by the 3x3 transformation matrices shown below.<P>
Translation by the offset (tx,ty) is described by the matrix:<P>
<PRE><UL>1      0      0
0      1      0
tx     ty     1
</UL></PRE>Scaling by sx on the x axis and sy on the y axis is described by the matrix:<P>
<PRE><UL>sx     0      0
0      sy     0
0      0      1
</UL></PRE>Counterclockwise rotation by the angle <img src="graphics/theta.gif"> about the origin is described by the matrix:<P>
<PRE><UL>cosq    sinq    0
-sinq   cosq    0
0       0       1
</UL></PRE>These operations can be concatenated together to express composite transformations. For example, a translation of a matrix to a new origin at (2,5) could be followed by a scaling of (3,3), which would triple the scale of the matrix in both directions. This could then be followed by a scaling of (2,1), which would double the scale of the matrix in the x direction but leave the y direction unchanged. The matrix would then be scaled six times larger than it was originally in the x direction (a scaling of 3 followed by a scaling of 2) and three times larger than it was originally in the y direction (a scaling of 3 followed by a scaling of 1).<P>
<P>



<!---------------------------------->
<!--  End actual manual material  -->
<!---------------------------------->
			
		</TD>
		
	</TR>
	<TR>
   		<!-- Textural Navigation Area -->	
		<TD WIDTH="130" VALIGN="BOTTOM">
	
		<FONT SIZE=-1>

  		<A HREF="Palette.html">Previous Chapter</A> | 
		<A HREF="Preference.html">Next Chapter</A> <BR>
		<A HREF="index.html">Table of Contents</A> <BR>
		<A HREF="../index.html">Help Map</A> <BR>

		
		<P>
		Need help? <A HREF="../contact-visix.html">Contact Visix</A>.
		<P>
		<A HREF="../copyright.html">Copyright 1996-97</A>, <BR>
		<A HREF="http://www.visix.com/">Visix Software Inc.</A>
		</FONT>
		</TD>
	</TR>
</TABLE>

</BODY>
</HTML>
