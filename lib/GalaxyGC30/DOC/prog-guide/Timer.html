<HTML>
<HEAD>
<TITLE>Timer</TITLE>
</HEAD>

<BODY background="graphics/bg.gif" BGCOLOR="#FFFFFF" TEXT="#000000">

<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0">
	<TR>
		<!-- Margin Banner -->
		<TD WIDTH="130"><CENTER><IMG SRC="graphics/logo.gif">
		<IMG WIDTH="130" SRC="graphics/trans.gif"></CENTER></TD>
		<!-- Margin Spacer -->
		<TD ROWSPAN="2" WIDTH="20">
		<IMG WIDTH="20" SRC="graphics/trans.gif"><P></TD>
	
	
		<!-- Title block: DOCUMENT TITLE GOES HERE -->
		<TD VALIGN=TOP><BR>
		     <H1>Timer</H1>
		     <BR>
		</TD>

	</TR><TR>
	
		<!-- Navigation Icons & Related Topics -->
		<TD WIDTH="130" VALIGN="TOP" ALIGN="LEFT"> 
		
		<CENTER>
		<BR>
		<IMG WIDTH=6 HEIGHT=21 SRC="graphics/trans.gif">
		
	
  		<!-- These are the Navigation buttons -->
		<A HREF="Thread.html"><IMG WIDTH=24 HEIGHT=31 BORDER=0 SRC="graphics/left.gif"></A>
		<A HREF="index.html"><IMG WIDTH=22 HEIGHT=33 BORDER=0 SRC="graphics/up.gif"></A>
		<A HREF="Timestamp.html"><IMG WIDTH=24 HEIGHT=31 BORDER=0 SRC="graphics/right.gif"></A>

		
		<IMG WIDTH=6 HEIGHT=21 SRC="graphics/trans.gif">
		<BR>
  </CENTER>
		</TD>
	
		<!-- Text Area -->
		<TD VALIGN="TOP" ROWSPAN="2">
			<BR>
			
<!---------------------------------->
<!-- Begin actual manual material -->
<!---------------------------------->

 
<A NAME="3483"></A>
The <B></B><EM><B>Timer</B></EM> class provides recurring and one-shot timers that can be used to call registered handlers at future points in time.<P>
<A NAME="76"><H1> Key Functionality</H1></A>
This section contains sample code to help you get started using the Timer class in an application. Rather than exploiting all of the features of the Timer class, this sample demonstrates the most useful base-level routines needed by the Timer class.<P>
Suppose you want to give the user five seconds to respond to something. Using the Timer class, you can create a one-shot timer with a five-second period that calls a routine to handle the user timeout. When you bring up the dialog for the user to respond to, use <TT>Start</TT> to start the timer. If the user responds in time, use <TT>Stop</TT> to stop it. If the user does not respond in time, the timer goes off and invokes the vtimerCallbackProc that was registered with it. If you want to have more than one 5-second timer going at once, you may want to put identifying data into each timer and have them all callback the same handler, or you might have a different handler for each one, if there is a difference at compile time. <A HREF="Timer.html#80">Example 163</A> contains sample code using the Timer class.<P>
<A NAME="80"><I>Example 163.  Using the Timer class
</I><P>
<PRE><UL>static vtimer      myFasterTimer;
static vtimer      mySlowerTimer;
void myAnnoyingTimerHandler( vtimer *timer )
{
   printf( "Hi There!!!   I'm %sn", (char *)vtimerGetData( timer ) );
}

int main( int argc, char *argv[] )
{
   vtimerInit( &amp;myFasterTimer );
   vtimerSetRecurrent( &amp;myFasterTimer );
   vtimerSetPeriod( &amp;myFasterTimer, 1, 0 );
   vtimerSetCallback( &amp;myFasterTimer, myAnnoyingTimerHandler );
   vtimerSetData( &amp;myFasterTimer, "fast" );

   vtimerInit( &amp;mySlowerTimer );
   vtimerSetRecurrent( &amp;mySlowerTimer );
   vtimerSetPeriod( &amp;mySlowerTimer, 5, 0 );
   vtimerSetCallback( &amp;mySlowerTimer, myAnnoyingTimerHandler );
   vtimerSetData( &amp;mySlowerTimer, "slow" );

   vtimerStart( &amp;myFasterTimer );
   vtimerStart( &amp;mySlowerTimer );

   veventProcess();

   vtimerDestroy( &amp;myFasterTimer );
   vtimerDestroy( &amp;mySlowerTimer );

   exit(EXIT_SUCCESS);
   return EXIT_FAILURE;
}

</UL></PRE><P>



<!---------------------------------->
<!--  End actual manual material  -->
<!---------------------------------->
			
		</TD>
		
	</TR>
	<TR>
   		<!-- Textural Navigation Area -->	
		<TD WIDTH="130" VALIGN="BOTTOM">
	
		<FONT SIZE=-1>

  		<A HREF="Thread.html">Previous Chapter</A> | 
		<A HREF="Timestamp.html">Next Chapter</A> <BR>
		<A HREF="index.html">Table of Contents</A> <BR>
		<A HREF="../index.html">Help Map</A> <BR>

		
		<P>
		Need help? <A HREF="../contact-visix.html">Contact Visix</A>.
		<P>
		<A HREF="../copyright.html">Copyright 1996-97</A>, <BR>
		<A HREF="http://www.visix.com/">Visix Software Inc.</A>
		</FONT>
		</TD>
	</TR>
</TABLE>

</BODY>
</HTML>
