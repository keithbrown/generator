<HTML>
<HEAD>
<TITLE>Timestamp</TITLE>
</HEAD>

<BODY background="graphics/bg.gif" BGCOLOR="#FFFFFF" TEXT="#000000">

<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0">
	<TR>
		<!-- Margin Banner -->
		<TD WIDTH="130"><CENTER><IMG SRC="graphics/logo.gif">
		<IMG WIDTH="130" SRC="graphics/trans.gif"></CENTER></TD>
		<!-- Margin Spacer -->
		<TD ROWSPAN="2" WIDTH="20">
		<IMG WIDTH="20" SRC="graphics/trans.gif"><P></TD>
	
	
		<!-- Title block: DOCUMENT TITLE GOES HERE -->
		<TD VALIGN=TOP><BR>
		     <H1>Timestamp</H1>
		     <BR>
		</TD>

	</TR><TR>
	
		<!-- Navigation Icons & Related Topics -->
		<TD WIDTH="130" VALIGN="TOP" ALIGN="LEFT"> 
		
		<CENTER>
		<BR>
		<IMG WIDTH=6 HEIGHT=21 SRC="graphics/trans.gif">
		
	
  		<!-- These are the Navigation buttons -->
		<A HREF="Timer.html"><IMG WIDTH=24 HEIGHT=31 BORDER=0 SRC="graphics/left.gif"></A>
		<A HREF="index.html"><IMG WIDTH=22 HEIGHT=33 BORDER=0 SRC="graphics/up.gif"></A>
		<A HREF="Toolbar.html"><IMG WIDTH=24 HEIGHT=31 BORDER=0 SRC="graphics/right.gif"></A>

		
		<IMG WIDTH=6 HEIGHT=21 SRC="graphics/trans.gif">
		<BR>
  </CENTER>
		</TD>
	
		<!-- Text Area -->
		<TD VALIGN="TOP" ROWSPAN="2">
			<BR>
			
<!---------------------------------->
<!-- Begin actual manual material -->
<!---------------------------------->

 
<A NAME="3596"></A>
An important piece of information regarding an event is when it is supposed to take place. This information, along with priority, allows the event queue to determine where it belongs in the queue. The <EM><B>timestamp</B></EM> class represents this information.<P>
A timestamp is a reference to a relative point in time. A timestamp has a range of +-136 years from the zero time and has nanosecond precision. Note, however, that the zero time can be different from one platform to another, and even from one run of a program to another. It may be the time the program started, midnight, December 31, or some other arbitrary time. It is important not to rely upon the zero time as a set point from program to program.<P>
The Event Manager uses timestamps to indicate when an event is scheduled to take place. Timestamps are also used by other Manager such as the File System Manager to indicate, among other things, the last time a file was changed.<P>
<A NAME="3280"><H4> Getting a timestamp</H4></A>
To get a timestamp that corresponds to the current instant in time use the following code fragment:<P>
<PRE><UL>   vtimestamp now = vtimestampGetNow();

</UL></PRE>This forces the timestamp to ask the operating system for the exact time. The overhead of this call may vary widely from platform to platform, but provides you with an accurate time value. To quickly get a less precise timestamp without the overhead, use <TT></TT><TT><B>G</B></TT><TT>etRecent</TT>:<P>
<PRE><UL>   vtimestamp now = vtimestampGetRecent();

</UL></PRE>Subsequent calls to either <TT><B>GetNow</B></TT> or <TT><B>G</B></TT><TT>etRecent</TT> return monotonically increasing values (that is, they do not return the same value twice).<P>
<A NAME="3286"><H4> Comparing a timestamp</H4></A>
Any two timestamps can be compared to find out whether one is before, the same as, or after the other. <A HREF="Timestamp.html#3292">Example 164</A> demonstrates this.<P>
<A NAME="3292"><I>Example 164.  Comparing timestamps
</I><P>
<PRE><UL>void CompareTimestamps (vtimestamp foo, vtimestamp bar)
{
   long          sec;
   unsigned long nsec;

   vtimestampDiffer(foo, bar, &amp;sec, &amp;nsec);
   if (vtimestampLessThan(foo, bar))
     vdebugMInform(("foo is %d seconds and %d nanoseconds before bar",
                   1 - sec, vtimestampSECOND - nsec));
   else if (vtimestampGreaterThan(foo, bar))
     vdebugMInform(("foo is %d seconds and %d nanoseconds after bar",
                   sec, nsec));
   else
     vdebugMInform(("foo is equal to bar"));
}

</UL></PRE><A NAME="3308"><H3> Avoiding Pitfalls</H3></A>
Do not save or store a timestamp for use after the original program has finished. The value of a timestamp is not portable and may not correspond when used in a new program.<P>
Do not use timestamps for points in time that are after year 2106 or more than 136 years before the start of the program. Values outside of this range may not be representable in a timestamp and may wrap, resulting in incorrect calculations.<P>
The Date class provides a portable, more general, and more powerful system of dealing with points in time. It has a wider range (plus or minus 64 thousand years), support for timezones, and provides persistence. Refer to the Date chapter for details.<P>
<P>



<!---------------------------------->
<!--  End actual manual material  -->
<!---------------------------------->
			
		</TD>
		
	</TR>
	<TR>
   		<!-- Textural Navigation Area -->	
		<TD WIDTH="130" VALIGN="BOTTOM">
	
		<FONT SIZE=-1>

  		<A HREF="Timer.html">Previous Chapter</A> | 
		<A HREF="Toolbar.html">Next Chapter</A> <BR>
		<A HREF="index.html">Table of Contents</A> <BR>
		<A HREF="../index.html">Help Map</A> <BR>

		
		<P>
		Need help? <A HREF="../contact-visix.html">Contact Visix</A>.
		<P>
		<A HREF="../copyright.html">Copyright 1996-97</A>, <BR>
		<A HREF="http://www.visix.com/">Visix Software Inc.</A>
		</FONT>
		</TD>
	</TR>
</TABLE>

</BODY>
</HTML>
